{
  "hash": "f3f6525e79a2abe99a0df8c2d8879b7f",
  "result": {
    "markdown": "# Horizon Data Averages\n\n## Overview\n\nGoal is to calculate 0-20cm depth weighted averages for all the soil properties of interest, for each component.\n\nI think I want to turn my horizon dataframe into an SPC object (`aqp` package), [see this demo](http://ncss-tech.github.io/AQP/demos/profileApply/loafercreek.html#26_build-your-own_spcs).\nI think I would use cokey as \"site\"?\n\nNote for available water capacity (AWC) and soil organic carbon (SOC) these will be sums.\nNeed to convert OM to SOC stock following equation 1 in Devine et al. (2020), but consider if I want to use a different Van Bemmelen factor, per discussion with Nic on 2022-08-11.\n\nSOC (kg/m\\^-2) = OM % / 1.72 x BD x (1-CF) x Z/10\n\n\n::: {.cell}\n\n:::\n\n\n## Toy Example\n\nTrying this process with just 4 components I selected at random, to make sure I understand what's happening with a smaller dataset.\n\n### Select some components\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# randomly selected cokeys\nex_cokeys <- c(21760486, 21791957, 21760347, 21782338)\n\n# filter to example horizons\n# add some info from comps table for context\ntoy_hz <- horiz %>% \n  dplyr::filter(cokey %in% ex_cokeys) %>% \n  left_join(x = ., y = comp_info, by = \"cokey\")\n\n# what kinds of soils are we working with?\ntoy_hz %>% \n  dplyr::select(cokey, compname, taxsuborder, geomdesc, drainagecl) %>% \n  unique()\n```\n\n::: {.cell-output-display}\n`````{=html}\n<div data-pagedtable=\"false\">\n  <script data-pagedtable-source type=\"application/json\">\n{\"columns\":[{\"label\":[\"cokey\"],\"name\":[1],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"compname\"],\"name\":[2],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"taxsuborder\"],\"name\":[3],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"geomdesc\"],\"name\":[4],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"drainagecl\"],\"name\":[5],\"type\":[\"chr\"],\"align\":[\"left\"]}],\"data\":[{\"1\":\"21791957\",\"2\":\"Poskin\",\"3\":\"Udalfs\",\"4\":\"drainageways on outwash plains\",\"5\":\"Somewhat poorly drained\"},{\"1\":\"21760486\",\"2\":\"Hawick\",\"3\":\"Udolls\",\"4\":\"outwash plains on till plains, terraces on till plains\",\"5\":\"Excessively drained\"},{\"1\":\"21760347\",\"2\":\"Canisteo\",\"3\":\"Aquolls\",\"4\":\"rims on depressions on till plains, ground moraines on till plains\",\"5\":\"Poorly drained\"},{\"1\":\"21782338\",\"2\":\"Oshawa\",\"3\":\"Aquolls\",\"4\":\"flood plains\",\"5\":\"Very poorly drained\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\n  </script>\n</div>\n`````\n:::\n:::\n\n\n### Promote to SPC Object\n\nBefore we promote to SPC object, need to make sure all my horizons are pre-sorted by profile id `cokey`, and then by horizon top boundary `hzdept_r`.\nFollowing along with [\"Object Creation\"](http://ncss-tech.github.io/AQP/aqp/aqp-intro.html#2_Object_Creation) in the Introduction to SPC Objects docs.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntoy_sort <- toy_hz %>% \n  arrange(cokey, hzdept_r) \n\n# take a look\ntoy_sort %>% \n  select(compname, hzname, hzdept_r)\n```\n\n::: {.cell-output-display}\n`````{=html}\n<div data-pagedtable=\"false\">\n  <script data-pagedtable-source type=\"application/json\">\n{\"columns\":[{\"label\":[\"compname\"],\"name\":[1],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"hzname\"],\"name\":[2],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"hzdept_r\"],\"name\":[3],\"type\":[\"dbl\"],\"align\":[\"right\"]}],\"data\":[{\"1\":\"Canisteo\",\"2\":\"Ap\",\"3\":\"0\"},{\"1\":\"Canisteo\",\"2\":\"A\",\"3\":\"23\"},{\"1\":\"Canisteo\",\"2\":\"AB\",\"3\":\"41\"},{\"1\":\"Canisteo\",\"2\":\"Bkg\",\"3\":\"51\"},{\"1\":\"Canisteo\",\"2\":\"Cg\",\"3\":\"91\"},{\"1\":\"Hawick\",\"2\":\"Ap\",\"3\":\"0\"},{\"1\":\"Hawick\",\"2\":\"Bw\",\"3\":\"18\"},{\"1\":\"Hawick\",\"2\":\"C\",\"3\":\"28\"},{\"1\":\"Oshawa\",\"2\":\"A\",\"3\":\"0\"},{\"1\":\"Oshawa\",\"2\":\"Cg\",\"3\":\"51\"},{\"1\":\"Poskin\",\"2\":\"Ap,A\",\"3\":\"0\"},{\"1\":\"Poskin\",\"2\":\"Bt\",\"3\":\"33\"},{\"1\":\"Poskin\",\"2\":\"BC\",\"3\":\"71\"},{\"1\":\"Poskin\",\"2\":\"2C\",\"3\":\"84\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\n  </script>\n</div>\n`````\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# upgrade to SPC\ndepths(toy_sort) <-  cokey ~ hzdept_r + hzdepb_r\n\n# specify horizon name col\nhzdesgnname(toy_sort) <- 'hzname'\n\n# confirm it worked\nclass(toy_sort)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"SoilProfileCollection\"\nattr(,\"package\")\n[1] \"aqp\"\n```\n:::\n\n```{.r .cell-code}\n# check out the object\nprint(toy_sort)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nSoilProfileCollection with 4 profiles and 14 horizons\nprofile ID: cokey  |  horizon ID: hzID \nDepth range: 152 - 200 cm\n\n----- Horizons (6 / 14 rows  |  10 / 177 columns) -----\n# A tibble: 6 x 10\n  hzname    cokey hzID  hzdept_r hzdep~1 desgn~2 desgn~3 desgn~4 desgn~5 hzdep~6\n  <chr>     <dbl> <chr>    <dbl>   <dbl>   <dbl> <chr>   <chr>     <dbl>   <dbl>\n1 Ap     21760347 1            0      23      NA A       <NA>         NA       0\n2 A      21760347 2           23      41      NA A       <NA>         NA      18\n3 AB     21760347 3           41      51      NA AB      <NA>         NA      36\n4 Bkg    21760347 4           51      91      NA B       <NA>         NA      46\n5 Cg     21760347 5           91     200      NA C       <NA>         NA      74\n6 Ap     21760486 6            0      18      NA A       <NA>         NA       0\n# ... with abbreviated variable names 1: hzdepb_r, 2: desgndisc,\n#   3: desgnmaster, 4: desgnmasterprime, 5: desgnvert, 6: hzdept_l\n[... more horizons ...]\n\n----- Sites (4 / 4 rows  |  1 / 1 columns) -----\n# A tibble: 4 x 1\n  cokey   \n  <chr>   \n1 21760347\n2 21760486\n3 21782338\n4 21791957\n\nSpatial Data:\n[EMPTY]\n```\n:::\n:::\n\n\n### Aggregate Along Slabs\n\nWe want to work with just the 0-20cm depth, can use `slab()` to do this.\nExample in [\"Aggregating Soil Profile Collections Along Regular Slabs\"](https://ncss-tech.github.io/AQP/aqp/aqp-intro.html#14_Aggregating_Soil_Profile_Collections_Along_Regular_%E2%80%9CSlabs%E2%80%9D)\n\nHere I'm grouping by cokey (individual profiles) so that we get a depth-wise summary for each cokey, weighted by horizon.\n\nUsing `slab.fun = mean`, I double checked and this computes a depth-weighted mean.\nThis is clear if you examine both the horizon data and the \"slab\" data below for the component 21760486.\nThe top horizon (0-18cm) has OM 2.5%, and the second horizon (18-28cm) has OM 0.25.\nThe depth weighted average (to 20cm depth) is 2.275\n\nI'm pretty sure I want to include na.rm = TRUE here for slab?\nSince I'm doing this for each profile, it seems unlikely that I'd have data for just one horizon, but not the next horizon.\nI suppose I could check this for our components\n\n\n::: {.cell}\n\n```{.r .cell-code}\nslab_ex <- slab(object = toy_sort, \n                fm = cokey ~ om_r + claytotal_r + cec7_r,\n                slab.structure = c(0,20),\n                slab.fun = mean,\n                na.rm = TRUE) \n\n# our example component, 0-20cm depth spans 2 horizons here\ntoy_hz %>% \n  select(cokey, hzdept_r, hzdepb_r, om_r, claytotal_r) %>% \n  arrange(cokey, hzdept_r) %>% \n  filter(cokey == 21760486)\n```\n\n::: {.cell-output-display}\n`````{=html}\n<div data-pagedtable=\"false\">\n  <script data-pagedtable-source type=\"application/json\">\n{\"columns\":[{\"label\":[\"cokey\"],\"name\":[1],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"hzdept_r\"],\"name\":[2],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"hzdepb_r\"],\"name\":[3],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"om_r\"],\"name\":[4],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"claytotal_r\"],\"name\":[5],\"type\":[\"dbl\"],\"align\":[\"right\"]}],\"data\":[{\"1\":\"21760486\",\"2\":\"0\",\"3\":\"18\",\"4\":\"2.50\",\"5\":\"10\"},{\"1\":\"21760486\",\"2\":\"18\",\"3\":\"28\",\"4\":\"0.25\",\"5\":\"5\"},{\"1\":\"21760486\",\"2\":\"28\",\"3\":\"200\",\"4\":\"0.25\",\"5\":\"5\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\n  </script>\n</div>\n`````\n:::\n\n```{.r .cell-code}\n# slab results, note they are \"long\" format\n# om_r = 2.275\nslab_ex %>% \n  filter(cokey == 21760486)\n```\n\n::: {.cell-output-display}\n`````{=html}\n<div data-pagedtable=\"false\">\n  <script data-pagedtable-source type=\"application/json\">\n{\"columns\":[{\"label\":[\"variable\"],\"name\":[1],\"type\":[\"fct\"],\"align\":[\"left\"]},{\"label\":[\"cokey\"],\"name\":[2],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"value\"],\"name\":[3],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"top\"],\"name\":[4],\"type\":[\"int\"],\"align\":[\"right\"]},{\"label\":[\"bottom\"],\"name\":[5],\"type\":[\"int\"],\"align\":[\"right\"]},{\"label\":[\"contributing_fraction\"],\"name\":[6],\"type\":[\"dbl\"],\"align\":[\"right\"]}],\"data\":[{\"1\":\"om_r\",\"2\":\"21760486\",\"3\":\"2.275\",\"4\":\"0\",\"5\":\"20\",\"6\":\"1\"},{\"1\":\"claytotal_r\",\"2\":\"21760486\",\"3\":\"9.500\",\"4\":\"0\",\"5\":\"20\",\"6\":\"1\"},{\"1\":\"cec7_r\",\"2\":\"21760486\",\"3\":\"7.970\",\"4\":\"0\",\"5\":\"20\",\"6\":\"1\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\n  </script>\n</div>\n`````\n:::\n\n```{.r .cell-code}\n# do the weighted mean for om_r by hand \n# should match slab results above for cokey 21760486 \nweighted.mean(x = c(2.5, 0.25), w = c(18,2)) \n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 2.275\n```\n:::\n:::\n\n\n## Variables\n\n### List to include\n\nDevine et al. 2020 included SAR and gypsum, these seem less relevant to us (and in fact might not be populated as much over here, since there are relatively few spots on the western side of the state where this might be relevant?)\n\n\n::: {.cell}\n\n```{.r .cell-code}\nvars_of_interest <-\n  c(\n    'claytotal_r',\n    'silttotal_r',\n    'sandtotal_r',\n    'claysizedcarb_r', # not in Devine, I added \n    'om_r',\n    'cec7_r',\n    'dbthirdbar_r',\n    'fragvol_r_sum',\n    'kwfact', # erodibility factor, learn more?\n    'ec_r',\n    'ph1to1h2o_r',\n    'sar_r',\n    'caco3_r',\n    'lep_r',\n    'ksat_r',\n    'awc_r'\n    # 'freeiron_r', # not in Devine, also no data\n    # 'feoxalate_r' # not in Devine, also no data \n  )\n```\n:::\n\n\n### Number Missing\n\nHow many horizons are missing data for our variables of interest?\n\n\n::: {.cell}\n::: {.cell-output-display}\n`````{=html}\n<div data-pagedtable=\"false\">\n  <script data-pagedtable-source type=\"application/json\">\n{\"columns\":[{\"label\":[\"\"],\"name\":[\"_rn_\"],\"type\":[\"\"],\"align\":[\"left\"]},{\"label\":[\"n_hz_na\"],\"name\":[1],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"perc_missing\"],\"name\":[2],\"type\":[\"dbl\"],\"align\":[\"right\"]}],\"data\":[{\"1\":\"46\",\"2\":\"0.1\",\"_rn_\":\"ksat_r\"},{\"1\":\"331\",\"2\":\"0.9\",\"_rn_\":\"caco3_r\"},{\"1\":\"357\",\"2\":\"1.0\",\"_rn_\":\"ec_r\"},{\"1\":\"359\",\"2\":\"1.0\",\"_rn_\":\"sar_r\"},{\"1\":\"389\",\"2\":\"1.0\",\"_rn_\":\"om_r\"},{\"1\":\"404\",\"2\":\"1.1\",\"_rn_\":\"awc_r\"},{\"1\":\"411\",\"2\":\"1.1\",\"_rn_\":\"dbthirdbar_r\"},{\"1\":\"1046\",\"2\":\"2.8\",\"_rn_\":\"lep_r\"},{\"1\":\"1054\",\"2\":\"2.8\",\"_rn_\":\"claytotal_r\"},{\"1\":\"1064\",\"2\":\"2.8\",\"_rn_\":\"silttotal_r\"},{\"1\":\"1064\",\"2\":\"2.8\",\"_rn_\":\"sandtotal_r\"},{\"1\":\"1091\",\"2\":\"2.9\",\"_rn_\":\"cec7_r\"},{\"1\":\"1558\",\"2\":\"4.1\",\"_rn_\":\"ph1to1h2o_r\"},{\"1\":\"1581\",\"2\":\"4.2\",\"_rn_\":\"kwfact\"},{\"1\":\"7414\",\"2\":\"19.7\",\"_rn_\":\"fragvol_r_sum\"},{\"1\":\"18688\",\"2\":\"49.8\",\"_rn_\":\"claysizedcarb_r\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\n  </script>\n</div>\n`````\n:::\n:::\n\n\n## Implicit Zeroes\n\nNic suggested that I check on the cokeys where `fragvol_r_sum` is `NA`, it's possible that these are actually implied zeroes.\nThe main place we'll use this info is for calculating SOC stocks.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nfrag_check <- horiz %>% \n  select(chkey,\n         cokey,\n         fragvol_r_sum) %>% \n  left_join(comp_info, by = c('cokey')) %>% \n  filter(is.na(fragvol_r_sum))\n```\n:::\n\n\nSo out of 37552 chkeys, the sum of coarse fragment volume (`fragvol_r_sum`) is `NA` for 7414 of them.\n\n### Geomorphic Description\n\nHere I'm trying to pull out big groups of similar soils based on geomorphic description, which is helpful as a starting point for whether we would expect there to be coarse fragments.\n\nLook into using the `fetchOSD` function http://ncss-tech.github.io/AQP/soilDB/soil-series-query-functions.html\n\nSoil Survey Manual online, helpful info about how this info is recorded: https://www.nrcs.usda.gov/wps/portal/nrcs/detail/soils/ref/?c\nid=nrcs142p2_054252\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# how many are on lake plains? unlikely to have \n# many coarse frags here \nlake <- frag_check %>% \n  filter(str_detect(geomdesc, \"lake plain\"))\n\n# how many cokeys?\nnrow(lake)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 2818\n```\n:::\n\n```{.r .cell-code}\n# a few examples\nhead(unique(lake$geomdesc))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"depressions on lake plains\"                            \n[2] \"flats on lake plains\"                                  \n[3] \"till-floored lake plains on lake plains\"               \n[4] \"rises on lake plains\"                                  \n[5] \"depressions on till-floored lake plains on lake plains\"\n[6] \"lake plains\"                                           \n```\n:::\n\n```{.r .cell-code}\nlake %>% select(compname, taxsuborder) %>% \n  distinct() %>% \ndplyr::group_by(taxsuborder) %>% \n  dplyr::summarise(comps = str_c(compname, collapse = \", \")) %>% \n  gt()\n```\n\n::: {.cell-output-display}\n```{=html}\n<div id=\"hzayflasyp\" style=\"overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>html {\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;\n}\n\n#hzayflasyp .gt_table {\n  display: table;\n  border-collapse: collapse;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#hzayflasyp .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#hzayflasyp .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#hzayflasyp .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 0;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#hzayflasyp .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#hzayflasyp .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#hzayflasyp .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#hzayflasyp .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#hzayflasyp .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#hzayflasyp .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#hzayflasyp .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#hzayflasyp .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#hzayflasyp .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#hzayflasyp .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#hzayflasyp .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#hzayflasyp .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#hzayflasyp .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#hzayflasyp .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#hzayflasyp .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#hzayflasyp .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#hzayflasyp .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#hzayflasyp .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#hzayflasyp .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#hzayflasyp .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#hzayflasyp .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#hzayflasyp .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#hzayflasyp .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#hzayflasyp .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#hzayflasyp .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-left: 4px;\n  padding-right: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#hzayflasyp .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#hzayflasyp .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#hzayflasyp .gt_left {\n  text-align: left;\n}\n\n#hzayflasyp .gt_center {\n  text-align: center;\n}\n\n#hzayflasyp .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#hzayflasyp .gt_font_normal {\n  font-weight: normal;\n}\n\n#hzayflasyp .gt_font_bold {\n  font-weight: bold;\n}\n\n#hzayflasyp .gt_font_italic {\n  font-style: italic;\n}\n\n#hzayflasyp .gt_super {\n  font-size: 65%;\n}\n\n#hzayflasyp .gt_two_val_uncert {\n  display: inline-block;\n  line-height: 1em;\n  text-align: right;\n  font-size: 60%;\n  vertical-align: -0.25em;\n  margin-left: 0.1em;\n}\n\n#hzayflasyp .gt_footnote_marks {\n  font-style: italic;\n  font-weight: normal;\n  font-size: 75%;\n  vertical-align: 0.4em;\n}\n\n#hzayflasyp .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#hzayflasyp .gt_slash_mark {\n  font-size: 0.7em;\n  line-height: 0.7em;\n  vertical-align: 0.15em;\n}\n\n#hzayflasyp .gt_fraction_numerator {\n  font-size: 0.6em;\n  line-height: 0.6em;\n  vertical-align: 0.45em;\n}\n\n#hzayflasyp .gt_fraction_denominator {\n  font-size: 0.6em;\n  line-height: 0.6em;\n  vertical-align: -0.05em;\n}\n</style>\n<table class=\"gt_table\">\n  \n  <thead class=\"gt_col_headings\">\n    <tr>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\">taxsuborder</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\">comps</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td class=\"gt_row gt_left\">Albolls</td>\n<td class=\"gt_row gt_left\">Galchutt, Barbert</td></tr>\n    <tr><td class=\"gt_row gt_left\">Aqualfs</td>\n<td class=\"gt_row gt_left\">Spooner, Brickton</td></tr>\n    <tr><td class=\"gt_row gt_left\">Aquents</td>\n<td class=\"gt_row gt_left\">Cormant, Grygla, Lallie, Aquents, Urness</td></tr>\n    <tr><td class=\"gt_row gt_left\">Aquepts</td>\n<td class=\"gt_row gt_left\">Haug, Deerwood, Wildwood, Northwood, Leafriver, Sago, Sax, Hamre</td></tr>\n    <tr><td class=\"gt_row gt_left\">Aquerts</td>\n<td class=\"gt_row gt_left\">Fargo, Viking, Grano, Northcote, Hegne, Eaglepoint, Reis, Clearwater, Ludden, Beauford</td></tr>\n    <tr><td class=\"gt_row gt_left\">Aquolls</td>\n<td class=\"gt_row gt_left\">Thiefriver, Garborg, Colvin, Rosewood, Ulen, Augsburg, Borup, Wheatville, Glyndon, Bearden, Noyes, Lamoure, Espelie, Wabanica, Woodslake, Boash, Mustinka, Hamar, Grimstad, Nielsville, Venlo, Arveson, Lindaas, Perella, Aquolls, Gunclub, Vallers, Antler, Flom, Kratka, Syrene, Wyndmere, Elmville, Winger, Parnell, Kittson, Bigstone, Quam, Spicer, Marna, Brownton, Waldorf, Madelia, Lura, Leen, Chetomba, Prinsburg, Nishna, Baroda</td></tr>\n    <tr><td class=\"gt_row gt_left\">Hemists</td>\n<td class=\"gt_row gt_left\">Tacoosh, Mooselake, Uskabwanka, Rifle</td></tr>\n    <tr><td class=\"gt_row gt_left\">Orthents</td>\n<td class=\"gt_row gt_left\">Udorthents, Orthents, Bold</td></tr>\n    <tr><td class=\"gt_row gt_left\">Psamments</td>\n<td class=\"gt_row gt_left\">Corliss, Poppleton, Zimmerman, Barber, Guida</td></tr>\n    <tr><td class=\"gt_row gt_left\">Saprists</td>\n<td class=\"gt_row gt_left\">Markey, Cathro, Berner, Dora, Bullwinkle, Tawas, Seelyeville, Rondeau, Histosols, Haslie, Klossner</td></tr>\n    <tr><td class=\"gt_row gt_left\">Udalfs</td>\n<td class=\"gt_row gt_left\">Skime, Moranville, Dalbo, Baudette, Debs, Rosy, Kilkenny, Shorewood</td></tr>\n    <tr><td class=\"gt_row gt_left\">Uderts</td>\n<td class=\"gt_row gt_left\">Sinai, Hattie</td></tr>\n    <tr><td class=\"gt_row gt_left\">Udolls</td>\n<td class=\"gt_row gt_left\">Hecla, Huot, Foldahl, Croke, Hilaire, Glyndon, Zell, LaDelle, Flaming, Eckman, Overly, Bygland, Lizzie, Swenoda, Kittson, Wheatville, McIntosh, Wolverton, Doran, Towner, Lohnes, Gardena, Egeland, Byrne, Tara, Rondell, Shorewood, Truman, Gardencity, Collinwood, Kingston, Seaforth, Waubay, Rusklyn, Poinsett, Barrington, Ocheyedan, Lakefield, Good Thunder, Corwith, Grogan</td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# how many are on flood plains? \nflood <- frag_check %>% \n  filter(!str_detect(geomdesc, \"lake plain\")) %>% \n  filter(str_detect(geomdesc, \"flood plain\"))\n\n# how many cokeys?\nnrow(flood)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 684\n```\n:::\n\n```{.r .cell-code}\n# a few examples\nhead(unique(flood$geomdesc))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"natural levees on flood plains\"  \"flood plains\"                   \n[3] \"terraces on flood plains\"        \"flood plains on river valleys\"  \n[5] \"flood plains on alluvial plains\" \"flats on flood plains\"          \n```\n:::\n\n```{.r .cell-code}\nflood  %>% select(compname, taxsuborder) %>% \n  distinct() %>% \ndplyr::group_by(taxsuborder) %>% \n  dplyr::summarise(comps = str_c(compname, collapse = \", \")) %>% \n  gt()\n```\n\n::: {.cell-output-display}\n```{=html}\n<div id=\"vbuwrgmpwk\" style=\"overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>html {\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;\n}\n\n#vbuwrgmpwk .gt_table {\n  display: table;\n  border-collapse: collapse;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#vbuwrgmpwk .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#vbuwrgmpwk .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#vbuwrgmpwk .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 0;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#vbuwrgmpwk .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#vbuwrgmpwk .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#vbuwrgmpwk .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#vbuwrgmpwk .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#vbuwrgmpwk .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#vbuwrgmpwk .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#vbuwrgmpwk .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#vbuwrgmpwk .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#vbuwrgmpwk .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#vbuwrgmpwk .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#vbuwrgmpwk .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#vbuwrgmpwk .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#vbuwrgmpwk .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#vbuwrgmpwk .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#vbuwrgmpwk .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#vbuwrgmpwk .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#vbuwrgmpwk .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#vbuwrgmpwk .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#vbuwrgmpwk .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#vbuwrgmpwk .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#vbuwrgmpwk .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#vbuwrgmpwk .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#vbuwrgmpwk .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#vbuwrgmpwk .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#vbuwrgmpwk .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-left: 4px;\n  padding-right: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#vbuwrgmpwk .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#vbuwrgmpwk .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#vbuwrgmpwk .gt_left {\n  text-align: left;\n}\n\n#vbuwrgmpwk .gt_center {\n  text-align: center;\n}\n\n#vbuwrgmpwk .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#vbuwrgmpwk .gt_font_normal {\n  font-weight: normal;\n}\n\n#vbuwrgmpwk .gt_font_bold {\n  font-weight: bold;\n}\n\n#vbuwrgmpwk .gt_font_italic {\n  font-style: italic;\n}\n\n#vbuwrgmpwk .gt_super {\n  font-size: 65%;\n}\n\n#vbuwrgmpwk .gt_two_val_uncert {\n  display: inline-block;\n  line-height: 1em;\n  text-align: right;\n  font-size: 60%;\n  vertical-align: -0.25em;\n  margin-left: 0.1em;\n}\n\n#vbuwrgmpwk .gt_footnote_marks {\n  font-style: italic;\n  font-weight: normal;\n  font-size: 75%;\n  vertical-align: 0.4em;\n}\n\n#vbuwrgmpwk .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#vbuwrgmpwk .gt_slash_mark {\n  font-size: 0.7em;\n  line-height: 0.7em;\n  vertical-align: 0.15em;\n}\n\n#vbuwrgmpwk .gt_fraction_numerator {\n  font-size: 0.6em;\n  line-height: 0.6em;\n  vertical-align: 0.45em;\n}\n\n#vbuwrgmpwk .gt_fraction_denominator {\n  font-size: 0.6em;\n  line-height: 0.6em;\n  vertical-align: -0.05em;\n}\n</style>\n<table class=\"gt_table\">\n  \n  <thead class=\"gt_col_headings\">\n    <tr>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\">taxsuborder</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\">comps</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td class=\"gt_row gt_left\">Aquents</td>\n<td class=\"gt_row gt_left\">Lallie, Totagatic, Blue Earth, Chaska, Kalmarville</td></tr>\n    <tr><td class=\"gt_row gt_left\">Aquerts</td>\n<td class=\"gt_row gt_left\">Ludden</td></tr>\n    <tr><td class=\"gt_row gt_left\">Aquolls</td>\n<td class=\"gt_row gt_left\">Lamoure, Rauville, Cohoctah, Sedgeville, Suckercreek, Calco, Havelock, Nishna, Cedarrock, Faxon, Colo, Comfrey, Otter, Millington, Alluvial land, Southbrook, Riverston, Coland, Sawmill</td></tr>\n    <tr><td class=\"gt_row gt_left\">Fluvents</td>\n<td class=\"gt_row gt_left\">Cashel, Fairdale, Alluvial land, Dorchester, McPaul, Dunnbot, Rawles, Dockery</td></tr>\n    <tr><td class=\"gt_row gt_left\">Hemists</td>\n<td class=\"gt_row gt_left\">Lougee, Boots</td></tr>\n    <tr><td class=\"gt_row gt_left\">Psamments</td>\n<td class=\"gt_row gt_left\">Algansee, Scotah</td></tr>\n    <tr><td class=\"gt_row gt_left\">Saprists</td>\n<td class=\"gt_row gt_left\">Bowstring, Haslie, Seelyeville, Nidaros, Cathro, Muskego, Klossner, Houghton, Rondeau</td></tr>\n    <tr><td class=\"gt_row gt_left\">Uderts</td>\n<td class=\"gt_row gt_left\">Wahpeton, Sinai</td></tr>\n    <tr><td class=\"gt_row gt_left\">Udolls</td>\n<td class=\"gt_row gt_left\">La Prairie, Hanlon, Lawson, Littleton, Kennebec, Ceresco, Alluvial land</td></tr>\n    <tr><td class=\"gt_row gt_left\">NA</td>\n<td class=\"gt_row gt_left\">Muck and peat</td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# how many are on sandhills? \nsandhill <- frag_check %>% \n  filter(!str_detect(geomdesc, \"lake plain\")) %>% \n  filter(!str_detect(geomdesc, \"flood plain\")) %>% \n  filter(str_detect(geomdesc, \"sandhill\"))\n\n# how many cokeys?\nnrow(sandhill)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 20\n```\n:::\n\n```{.r .cell-code}\n# a few examples\nhead(unique(sandhill$geomdesc))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"sand sheets on sandhills\" \"dunes on sandhills\"      \n[3] \"depressions on sandhills\"\n```\n:::\n\n```{.r .cell-code}\nsandhill %>% select(compname, taxsuborder) %>% \n  distinct() %>% \ndplyr::group_by(taxsuborder) %>% \n  dplyr::summarise(comps = str_c(compname, collapse = \", \")) %>% \n  gt()\n```\n\n::: {.cell-output-display}\n```{=html}\n<div id=\"syckutlbna\" style=\"overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>html {\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;\n}\n\n#syckutlbna .gt_table {\n  display: table;\n  border-collapse: collapse;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#syckutlbna .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#syckutlbna .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#syckutlbna .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 0;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#syckutlbna .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#syckutlbna .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#syckutlbna .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#syckutlbna .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#syckutlbna .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#syckutlbna .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#syckutlbna .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#syckutlbna .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#syckutlbna .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#syckutlbna .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#syckutlbna .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#syckutlbna .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#syckutlbna .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#syckutlbna .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#syckutlbna .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#syckutlbna .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#syckutlbna .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#syckutlbna .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#syckutlbna .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#syckutlbna .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#syckutlbna .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#syckutlbna .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#syckutlbna .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#syckutlbna .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#syckutlbna .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-left: 4px;\n  padding-right: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#syckutlbna .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#syckutlbna .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#syckutlbna .gt_left {\n  text-align: left;\n}\n\n#syckutlbna .gt_center {\n  text-align: center;\n}\n\n#syckutlbna .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#syckutlbna .gt_font_normal {\n  font-weight: normal;\n}\n\n#syckutlbna .gt_font_bold {\n  font-weight: bold;\n}\n\n#syckutlbna .gt_font_italic {\n  font-style: italic;\n}\n\n#syckutlbna .gt_super {\n  font-size: 65%;\n}\n\n#syckutlbna .gt_two_val_uncert {\n  display: inline-block;\n  line-height: 1em;\n  text-align: right;\n  font-size: 60%;\n  vertical-align: -0.25em;\n  margin-left: 0.1em;\n}\n\n#syckutlbna .gt_footnote_marks {\n  font-style: italic;\n  font-weight: normal;\n  font-size: 75%;\n  vertical-align: 0.4em;\n}\n\n#syckutlbna .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#syckutlbna .gt_slash_mark {\n  font-size: 0.7em;\n  line-height: 0.7em;\n  vertical-align: 0.15em;\n}\n\n#syckutlbna .gt_fraction_numerator {\n  font-size: 0.6em;\n  line-height: 0.6em;\n  vertical-align: 0.45em;\n}\n\n#syckutlbna .gt_fraction_denominator {\n  font-size: 0.6em;\n  line-height: 0.6em;\n  vertical-align: -0.05em;\n}\n</style>\n<table class=\"gt_table\">\n  \n  <thead class=\"gt_col_headings\">\n    <tr>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\">taxsuborder</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\">comps</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td class=\"gt_row gt_left\">Aquents</td>\n<td class=\"gt_row gt_left\">Bantry</td></tr>\n    <tr><td class=\"gt_row gt_left\">Hemists</td>\n<td class=\"gt_row gt_left\">Rifle</td></tr>\n    <tr><td class=\"gt_row gt_left\">Psamments</td>\n<td class=\"gt_row gt_left\">Serden, Aylmer</td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# how many are organic soils? \nhist <- frag_check %>% \n  filter(!str_detect(geomdesc, \"lake plain\")) %>% \n  filter(!str_detect(geomdesc, \"flood plain\")) %>% \n  filter(!str_detect(geomdesc, \"sandhill\")) %>% \n  filter(taxsuborder %in% c(\"Saprists\", \"Hemists\", \"Fibrists\")) \n\n# how many cokeys?\nnrow(hist)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 803\n```\n:::\n\n```{.r .cell-code}\n# some examples\nhead(unique(hist$geomdesc))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"-- Error in Exists On --\"                              \n[2] \"depressions on outwash plains\"                         \n[3] \"fens on beach ridges\"                                  \n[4] \"depressions on till plains\"                            \n[5] \"seeps on till plains\"                                  \n[6] \"depressions on moraines, depressions on outwash plains\"\n```\n:::\n\n```{.r .cell-code}\nhist %>% select(compname, taxsuborder) %>% \n  distinct() %>% \ndplyr::group_by(taxsuborder) %>% \n  dplyr::summarise(comps = str_c(compname, collapse = \", \")) %>% \n  gt()\n```\n\n::: {.cell-output-display}\n```{=html}\n<div id=\"xkmhnnlvrg\" style=\"overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>html {\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;\n}\n\n#xkmhnnlvrg .gt_table {\n  display: table;\n  border-collapse: collapse;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#xkmhnnlvrg .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#xkmhnnlvrg .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#xkmhnnlvrg .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 0;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#xkmhnnlvrg .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#xkmhnnlvrg .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#xkmhnnlvrg .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#xkmhnnlvrg .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#xkmhnnlvrg .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#xkmhnnlvrg .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#xkmhnnlvrg .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#xkmhnnlvrg .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#xkmhnnlvrg .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#xkmhnnlvrg .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#xkmhnnlvrg .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#xkmhnnlvrg .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#xkmhnnlvrg .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#xkmhnnlvrg .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#xkmhnnlvrg .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#xkmhnnlvrg .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#xkmhnnlvrg .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#xkmhnnlvrg .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#xkmhnnlvrg .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#xkmhnnlvrg .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#xkmhnnlvrg .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#xkmhnnlvrg .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#xkmhnnlvrg .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#xkmhnnlvrg .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#xkmhnnlvrg .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-left: 4px;\n  padding-right: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#xkmhnnlvrg .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#xkmhnnlvrg .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#xkmhnnlvrg .gt_left {\n  text-align: left;\n}\n\n#xkmhnnlvrg .gt_center {\n  text-align: center;\n}\n\n#xkmhnnlvrg .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#xkmhnnlvrg .gt_font_normal {\n  font-weight: normal;\n}\n\n#xkmhnnlvrg .gt_font_bold {\n  font-weight: bold;\n}\n\n#xkmhnnlvrg .gt_font_italic {\n  font-style: italic;\n}\n\n#xkmhnnlvrg .gt_super {\n  font-size: 65%;\n}\n\n#xkmhnnlvrg .gt_two_val_uncert {\n  display: inline-block;\n  line-height: 1em;\n  text-align: right;\n  font-size: 60%;\n  vertical-align: -0.25em;\n  margin-left: 0.1em;\n}\n\n#xkmhnnlvrg .gt_footnote_marks {\n  font-style: italic;\n  font-weight: normal;\n  font-size: 75%;\n  vertical-align: 0.4em;\n}\n\n#xkmhnnlvrg .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#xkmhnnlvrg .gt_slash_mark {\n  font-size: 0.7em;\n  line-height: 0.7em;\n  vertical-align: 0.15em;\n}\n\n#xkmhnnlvrg .gt_fraction_numerator {\n  font-size: 0.6em;\n  line-height: 0.6em;\n  vertical-align: 0.45em;\n}\n\n#xkmhnnlvrg .gt_fraction_denominator {\n  font-size: 0.6em;\n  line-height: 0.6em;\n  vertical-align: -0.05em;\n}\n</style>\n<table class=\"gt_table\">\n  \n  <thead class=\"gt_col_headings\">\n    <tr>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\">taxsuborder</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\">comps</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td class=\"gt_row gt_left\">Fibrists</td>\n<td class=\"gt_row gt_left\">Brophy</td></tr>\n    <tr><td class=\"gt_row gt_left\">Hemists</td>\n<td class=\"gt_row gt_left\">Rifle, Mooselake, Greenwood, Tacoosh, Uskabwanka, Lougee, Carlos, Millerville, Caron</td></tr>\n    <tr><td class=\"gt_row gt_left\">Saprists</td>\n<td class=\"gt_row gt_left\">Seelyeville, Markey, Lupton, Berner, Haslie, Cathro, Bullwinkle, Rondeau, Nidaros, Loxley, Histosols, Bowstring, Muck and peat, Muck, Muskego, Houghton, Klossner, Haplosaprists, Palms, Lena, Medo, Marsh, Muck soil</td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# outwash plains?\noutwash <- frag_check %>% \n   filter(!str_detect(geomdesc, \"lake plain\")) %>% \n  filter(!str_detect(geomdesc, \"flood plain\")) %>% \n  filter(!str_detect(geomdesc, \"sandhill\")) %>% \n  filter(!taxsuborder %in% c(\"Saprists\", \"Hemists\", \"Fibrists\")) %>% \n  filter(str_detect(geomdesc, \"outwash plain\"))\n\n# how many cokeys?\nnrow(outwash)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 470\n```\n:::\n\n```{.r .cell-code}\n# some examples \nhead(unique(outwash$geomdesc))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"depressions on outwash plains\"                       \n[2] \"lakeshores on outwash plains\"                        \n[3] \"flats on outwash plains\"                             \n[4] \"hillslopes on moraines, hillslopes on outwash plains\"\n[5] \"outwash plains\"                                      \n[6] \"hillslopes on outwash plains\"                        \n```\n:::\n\n```{.r .cell-code}\noutwash %>% select(compname, taxsuborder) %>% \n  distinct() %>% \ndplyr::group_by(taxsuborder) %>% \n  dplyr::summarise(comps = str_c(compname, collapse = \", \")) %>% \n  gt()\n```\n\n::: {.cell-output-display}\n```{=html}\n<div id=\"pklqyqybvr\" style=\"overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>html {\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;\n}\n\n#pklqyqybvr .gt_table {\n  display: table;\n  border-collapse: collapse;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#pklqyqybvr .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#pklqyqybvr .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#pklqyqybvr .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 0;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#pklqyqybvr .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#pklqyqybvr .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#pklqyqybvr .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#pklqyqybvr .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#pklqyqybvr .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#pklqyqybvr .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#pklqyqybvr .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#pklqyqybvr .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#pklqyqybvr .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#pklqyqybvr .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#pklqyqybvr .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#pklqyqybvr .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#pklqyqybvr .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#pklqyqybvr .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#pklqyqybvr .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#pklqyqybvr .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#pklqyqybvr .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#pklqyqybvr .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#pklqyqybvr .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#pklqyqybvr .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#pklqyqybvr .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#pklqyqybvr .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#pklqyqybvr .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#pklqyqybvr .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#pklqyqybvr .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-left: 4px;\n  padding-right: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#pklqyqybvr .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#pklqyqybvr .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#pklqyqybvr .gt_left {\n  text-align: left;\n}\n\n#pklqyqybvr .gt_center {\n  text-align: center;\n}\n\n#pklqyqybvr .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#pklqyqybvr .gt_font_normal {\n  font-weight: normal;\n}\n\n#pklqyqybvr .gt_font_bold {\n  font-weight: bold;\n}\n\n#pklqyqybvr .gt_font_italic {\n  font-style: italic;\n}\n\n#pklqyqybvr .gt_super {\n  font-size: 65%;\n}\n\n#pklqyqybvr .gt_two_val_uncert {\n  display: inline-block;\n  line-height: 1em;\n  text-align: right;\n  font-size: 60%;\n  vertical-align: -0.25em;\n  margin-left: 0.1em;\n}\n\n#pklqyqybvr .gt_footnote_marks {\n  font-style: italic;\n  font-weight: normal;\n  font-size: 75%;\n  vertical-align: 0.4em;\n}\n\n#pklqyqybvr .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#pklqyqybvr .gt_slash_mark {\n  font-size: 0.7em;\n  line-height: 0.7em;\n  vertical-align: 0.15em;\n}\n\n#pklqyqybvr .gt_fraction_numerator {\n  font-size: 0.6em;\n  line-height: 0.6em;\n  vertical-align: 0.45em;\n}\n\n#pklqyqybvr .gt_fraction_denominator {\n  font-size: 0.6em;\n  line-height: 0.6em;\n  vertical-align: -0.05em;\n}\n</style>\n<table class=\"gt_table\">\n  \n  <thead class=\"gt_col_headings\">\n    <tr>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\">taxsuborder</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\">comps</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td class=\"gt_row gt_left\">Aqualfs</td>\n<td class=\"gt_row gt_left\">Epoufette</td></tr>\n    <tr><td class=\"gt_row gt_left\">Aquents</td>\n<td class=\"gt_row gt_left\">Urness</td></tr>\n    <tr><td class=\"gt_row gt_left\">Aquepts</td>\n<td class=\"gt_row gt_left\">Leafriver, Madaus, Minocqua, Wabuse</td></tr>\n    <tr><td class=\"gt_row gt_left\">Aquolls</td>\n<td class=\"gt_row gt_left\">Isanti, Warman, Colvin, Hamar, Rockwell, Fossum, Shakopee, Fieldon, Granby, Darfur, Trosky, Talcot</td></tr>\n    <tr><td class=\"gt_row gt_left\">Boralfs</td>\n<td class=\"gt_row gt_left\">Soderville</td></tr>\n    <tr><td class=\"gt_row gt_left\">Psamments</td>\n<td class=\"gt_row gt_left\">Psamments, Sartell, Zimmerman, Cantlin, Chelsea</td></tr>\n    <tr><td class=\"gt_row gt_left\">Udalfs</td>\n<td class=\"gt_row gt_left\">Anoka, Dalbo, Soderville, Menomin</td></tr>\n    <tr><td class=\"gt_row gt_left\">Udolls</td>\n<td class=\"gt_row gt_left\">Estelline, Maddock, Malachy, Flandreau, Litchfield, Langola, Kost, Glendorado, Athelwold, Embden, Torning, Dickinson, Gardencity, Tomall, Grogan, Kennebec, Waukegan, Strayhoss, Everts, Brandt, Sandberg, Allendorf, Lasa</td></tr>\n    <tr><td class=\"gt_row gt_left\">Ustolls</td>\n<td class=\"gt_row gt_left\">Dempster, Flandreau, Graceville</td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# stream terraces? \nterrace <- frag_check %>% \n   filter(!str_detect(geomdesc, \"lake plain\")) %>% \n  filter(!str_detect(geomdesc, \"flood plain\")) %>% \n  filter(!str_detect(geomdesc, \"sandhill\")) %>% \n  filter(!taxsuborder %in% c(\"Saprists\", \"Hemists\", \"Fibrists\")) %>% \n  filter(!str_detect(geomdesc, \"outwash plain\")) %>% \n  filter(str_detect(geomdesc, \"stream terrace\")) \n\n# how many cokeys?\nnrow(terrace)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 135\n```\n:::\n\n```{.r .cell-code}\n# some examples\nhead(unique(terrace$geomdesc))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"natural levees on alluvial plains, stream terraces on alluvial plains\"\n[2] \"stream terraces on river valleys\"                                     \n[3] \"stream terraces\"                                                      \n[4] \"hills on stream terraces\"                                             \n[5] \"escarpments on stream terraces\"                                       \n[6] \"swales, depressions on stream terraces\"                               \n```\n:::\n\n```{.r .cell-code}\nterrace %>% select(compname, taxsuborder) %>% \n  distinct() %>% \ndplyr::group_by(taxsuborder) %>% \n  dplyr::summarise(comps = str_c(compname, collapse = \", \")) %>% \n  gt()\n```\n\n::: {.cell-output-display}\n```{=html}\n<div id=\"hlhieqpesa\" style=\"overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>html {\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;\n}\n\n#hlhieqpesa .gt_table {\n  display: table;\n  border-collapse: collapse;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#hlhieqpesa .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#hlhieqpesa .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#hlhieqpesa .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 0;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#hlhieqpesa .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#hlhieqpesa .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#hlhieqpesa .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#hlhieqpesa .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#hlhieqpesa .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#hlhieqpesa .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#hlhieqpesa .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#hlhieqpesa .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#hlhieqpesa .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#hlhieqpesa .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#hlhieqpesa .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#hlhieqpesa .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#hlhieqpesa .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#hlhieqpesa .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#hlhieqpesa .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#hlhieqpesa .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#hlhieqpesa .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#hlhieqpesa .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#hlhieqpesa .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#hlhieqpesa .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#hlhieqpesa .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#hlhieqpesa .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#hlhieqpesa .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#hlhieqpesa .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#hlhieqpesa .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-left: 4px;\n  padding-right: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#hlhieqpesa .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#hlhieqpesa .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#hlhieqpesa .gt_left {\n  text-align: left;\n}\n\n#hlhieqpesa .gt_center {\n  text-align: center;\n}\n\n#hlhieqpesa .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#hlhieqpesa .gt_font_normal {\n  font-weight: normal;\n}\n\n#hlhieqpesa .gt_font_bold {\n  font-weight: bold;\n}\n\n#hlhieqpesa .gt_font_italic {\n  font-style: italic;\n}\n\n#hlhieqpesa .gt_super {\n  font-size: 65%;\n}\n\n#hlhieqpesa .gt_two_val_uncert {\n  display: inline-block;\n  line-height: 1em;\n  text-align: right;\n  font-size: 60%;\n  vertical-align: -0.25em;\n  margin-left: 0.1em;\n}\n\n#hlhieqpesa .gt_footnote_marks {\n  font-style: italic;\n  font-weight: normal;\n  font-size: 75%;\n  vertical-align: 0.4em;\n}\n\n#hlhieqpesa .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#hlhieqpesa .gt_slash_mark {\n  font-size: 0.7em;\n  line-height: 0.7em;\n  vertical-align: 0.15em;\n}\n\n#hlhieqpesa .gt_fraction_numerator {\n  font-size: 0.6em;\n  line-height: 0.6em;\n  vertical-align: 0.45em;\n}\n\n#hlhieqpesa .gt_fraction_denominator {\n  font-size: 0.6em;\n  line-height: 0.6em;\n  vertical-align: -0.05em;\n}\n</style>\n<table class=\"gt_table\">\n  \n  <thead class=\"gt_col_headings\">\n    <tr>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\">taxsuborder</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\">comps</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td class=\"gt_row gt_left\">Aquolls</td>\n<td class=\"gt_row gt_left\">Talcot, Duelm, Faxon, Isanti, Tilfer, Joliet</td></tr>\n    <tr><td class=\"gt_row gt_left\">Orthents</td>\n<td class=\"gt_row gt_left\">Udorthents</td></tr>\n    <tr><td class=\"gt_row gt_left\">Psamments</td>\n<td class=\"gt_row gt_left\">Sartell</td></tr>\n    <tr><td class=\"gt_row gt_left\">Udalfs</td>\n<td class=\"gt_row gt_left\">Soderville, Anoka, Meridian, Eleva</td></tr>\n    <tr><td class=\"gt_row gt_left\">Uderts</td>\n<td class=\"gt_row gt_left\">Wahpeton</td></tr>\n    <tr><td class=\"gt_row gt_left\">Udolls</td>\n<td class=\"gt_row gt_left\">LaDelle, Hubbard, Langola, Dorset, Richwood, Copaston, Lasa, Dickinson, Ridgeport, Grogan, Allendorf</td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# loess hills? \nloess <- frag_check %>%\n    filter(!str_detect(geomdesc, \"lake plain\")) %>% \n  filter(!str_detect(geomdesc, \"flood plain\")) %>% \n  filter(!str_detect(geomdesc, \"sandhill\")) %>% \n  filter(!taxsuborder %in% c(\"Saprists\", \"Hemists\", \"Fibrists\")) %>% \n  filter(!str_detect(geomdesc, \"outwash plain\")) %>% \n  filter(!str_detect(geomdesc, \"stream terrace\")) %>% \n  filter(str_detect(geomdesc, \"loess\"))\n\nnrow(loess)  \n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 260\n```\n:::\n\n```{.r .cell-code}\n# some examples\nhead(unique(loess$geomdesc))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"loess hills\"                  \"knolls on loess hills\"       \n[3] \"valley sides on loess bluffs\" \"valley sides on loess hills\" \n[5] \"loess bluffs\"                \n```\n:::\n\n```{.r .cell-code}\nloess %>% select(compname, taxsuborder) %>% \n  distinct() %>% \ndplyr::group_by(taxsuborder) %>% \n  dplyr::summarise(comps = str_c(compname, collapse = \", \")) %>% \n  gt()\n```\n\n::: {.cell-output-display}\n```{=html}\n<div id=\"lxkvedwebr\" style=\"overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>html {\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;\n}\n\n#lxkvedwebr .gt_table {\n  display: table;\n  border-collapse: collapse;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#lxkvedwebr .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#lxkvedwebr .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#lxkvedwebr .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 0;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#lxkvedwebr .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#lxkvedwebr .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#lxkvedwebr .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#lxkvedwebr .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#lxkvedwebr .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#lxkvedwebr .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#lxkvedwebr .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#lxkvedwebr .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#lxkvedwebr .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#lxkvedwebr .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#lxkvedwebr .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#lxkvedwebr .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#lxkvedwebr .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#lxkvedwebr .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#lxkvedwebr .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#lxkvedwebr .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#lxkvedwebr .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#lxkvedwebr .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#lxkvedwebr .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#lxkvedwebr .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#lxkvedwebr .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#lxkvedwebr .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#lxkvedwebr .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#lxkvedwebr .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#lxkvedwebr .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-left: 4px;\n  padding-right: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#lxkvedwebr .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#lxkvedwebr .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#lxkvedwebr .gt_left {\n  text-align: left;\n}\n\n#lxkvedwebr .gt_center {\n  text-align: center;\n}\n\n#lxkvedwebr .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#lxkvedwebr .gt_font_normal {\n  font-weight: normal;\n}\n\n#lxkvedwebr .gt_font_bold {\n  font-weight: bold;\n}\n\n#lxkvedwebr .gt_font_italic {\n  font-style: italic;\n}\n\n#lxkvedwebr .gt_super {\n  font-size: 65%;\n}\n\n#lxkvedwebr .gt_two_val_uncert {\n  display: inline-block;\n  line-height: 1em;\n  text-align: right;\n  font-size: 60%;\n  vertical-align: -0.25em;\n  margin-left: 0.1em;\n}\n\n#lxkvedwebr .gt_footnote_marks {\n  font-style: italic;\n  font-weight: normal;\n  font-size: 75%;\n  vertical-align: 0.4em;\n}\n\n#lxkvedwebr .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#lxkvedwebr .gt_slash_mark {\n  font-size: 0.7em;\n  line-height: 0.7em;\n  vertical-align: 0.15em;\n}\n\n#lxkvedwebr .gt_fraction_numerator {\n  font-size: 0.6em;\n  line-height: 0.6em;\n  vertical-align: 0.45em;\n}\n\n#lxkvedwebr .gt_fraction_denominator {\n  font-size: 0.6em;\n  line-height: 0.6em;\n  vertical-align: -0.05em;\n}\n</style>\n<table class=\"gt_table\">\n  \n  <thead class=\"gt_col_headings\">\n    <tr>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\">taxsuborder</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\">comps</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td class=\"gt_row gt_left\">Psamments</td>\n<td class=\"gt_row gt_left\">Boone</td></tr>\n    <tr><td class=\"gt_row gt_left\">Udalfs</td>\n<td class=\"gt_row gt_left\">Whalan, Oak Center, Gale, Eleva, Hersey, Fayette, Downs, Massbach, Brinkman, Frankville, Nasset, Mt. Carroll</td></tr>\n    <tr><td class=\"gt_row gt_left\">Udolls</td>\n<td class=\"gt_row gt_left\">Joy, Dinsmore, Tama, Shullsburg, Schapville, Port Byron, Elizabeth</td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# drainageways? \ndrain <- frag_check %>% \n  filter(!str_detect(geomdesc, \"lake plain\")) %>% \n  filter(!str_detect(geomdesc, \"flood plain\")) %>% \n  filter(!str_detect(geomdesc, \"sandhill\")) %>% \n  filter(!taxsuborder %in% c(\"Saprists\", \"Hemists\", \"Fibrists\")) %>% \n  filter(!str_detect(geomdesc, \"outwash plain\")) %>% \n  filter(!str_detect(geomdesc, \"stream terrace\")) %>% \n  filter(!str_detect(geomdesc, \"loess\")) %>% \n  filter(str_detect(geomdesc, \"drain\"))\n\n# how many cokeys?\nnrow(drain)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 131\n```\n:::\n\n```{.r .cell-code}\n# some examples \nhead(unique(drain$geomdesc)) \n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"drainageways on river valleys\"              \n[2] \"drainageways on moraines, flats on moraines\"\n[3] \"drainageways on till plains\"                \n[4] \"drainageways on terraces\"                   \n[5] \"flats on moraines, drainageways on moraines\"\n[6] \"drainageways\"                               \n```\n:::\n\n```{.r .cell-code}\ndrain %>% select(compname, taxsuborder) %>% \n  distinct() %>% \ndplyr::group_by(taxsuborder) %>% \n  dplyr::summarise(comps = str_c(compname, collapse = \", \")) %>% \n  gt()\n```\n\n::: {.cell-output-display}\n```{=html}\n<div id=\"tszsbbkurx\" style=\"overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>html {\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;\n}\n\n#tszsbbkurx .gt_table {\n  display: table;\n  border-collapse: collapse;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#tszsbbkurx .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#tszsbbkurx .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#tszsbbkurx .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 0;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#tszsbbkurx .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#tszsbbkurx .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#tszsbbkurx .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#tszsbbkurx .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#tszsbbkurx .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#tszsbbkurx .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#tszsbbkurx .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#tszsbbkurx .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#tszsbbkurx .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#tszsbbkurx .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#tszsbbkurx .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#tszsbbkurx .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#tszsbbkurx .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#tszsbbkurx .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#tszsbbkurx .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#tszsbbkurx .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#tszsbbkurx .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#tszsbbkurx .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#tszsbbkurx .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#tszsbbkurx .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#tszsbbkurx .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#tszsbbkurx .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#tszsbbkurx .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#tszsbbkurx .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#tszsbbkurx .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-left: 4px;\n  padding-right: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#tszsbbkurx .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#tszsbbkurx .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#tszsbbkurx .gt_left {\n  text-align: left;\n}\n\n#tszsbbkurx .gt_center {\n  text-align: center;\n}\n\n#tszsbbkurx .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#tszsbbkurx .gt_font_normal {\n  font-weight: normal;\n}\n\n#tszsbbkurx .gt_font_bold {\n  font-weight: bold;\n}\n\n#tszsbbkurx .gt_font_italic {\n  font-style: italic;\n}\n\n#tszsbbkurx .gt_super {\n  font-size: 65%;\n}\n\n#tszsbbkurx .gt_two_val_uncert {\n  display: inline-block;\n  line-height: 1em;\n  text-align: right;\n  font-size: 60%;\n  vertical-align: -0.25em;\n  margin-left: 0.1em;\n}\n\n#tszsbbkurx .gt_footnote_marks {\n  font-style: italic;\n  font-weight: normal;\n  font-size: 75%;\n  vertical-align: 0.4em;\n}\n\n#tszsbbkurx .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#tszsbbkurx .gt_slash_mark {\n  font-size: 0.7em;\n  line-height: 0.7em;\n  vertical-align: 0.15em;\n}\n\n#tszsbbkurx .gt_fraction_numerator {\n  font-size: 0.6em;\n  line-height: 0.6em;\n  vertical-align: 0.45em;\n}\n\n#tszsbbkurx .gt_fraction_denominator {\n  font-size: 0.6em;\n  line-height: 0.6em;\n  vertical-align: -0.05em;\n}\n</style>\n<table class=\"gt_table\">\n  \n  <thead class=\"gt_col_headings\">\n    <tr>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\">taxsuborder</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\">comps</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td class=\"gt_row gt_left\">Aqualfs</td>\n<td class=\"gt_row gt_left\">Blomford</td></tr>\n    <tr><td class=\"gt_row gt_left\">Aquents</td>\n<td class=\"gt_row gt_left\">Fluvaquents</td></tr>\n    <tr><td class=\"gt_row gt_left\">Aquolls</td>\n<td class=\"gt_row gt_left\">Faxon, Fulda, Parnell, Maxfield, Colo, Ossian, Otter, Badger, Hidewood, Little Cottonwood</td></tr>\n    <tr><td class=\"gt_row gt_left\">Udolls</td>\n<td class=\"gt_row gt_left\">LaDelle, Zell, Joy, Barremills</td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nother <-  frag_check %>% \n  filter(!str_detect(geomdesc, \"lake plain\")) %>% \n  filter(!str_detect(geomdesc, \"flood plain\")) %>% \n  filter(!str_detect(geomdesc, \"sandhill\")) %>% \n  filter(!taxsuborder %in% c(\"Saprists\", \"Hemists\", \"Fibrists\")) %>% \n  filter(!str_detect(geomdesc, \"outwash plain\")) %>% \n  filter(!str_detect(geomdesc, \"stream terrace\")) %>% \n  filter(!str_detect(geomdesc, \"loess\")) %>% \n  filter(!str_detect(geomdesc, \"drain\"))\n\n# other terrace related \nother %>% filter(str_detect(geomdesc, \"terrace\")) %>% pull(geomdesc) %>% unique()\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n [1] \"terraces\"                               \n [2] \"terraces, hills\"                        \n [3] \"hills, terraces\"                        \n [4] \"escarpments on terraces, hills\"         \n [5] \"escarpments on terraces\"                \n [6] \"outwash terraces\"                       \n [7] \"strath terraces\"                        \n [8] \"terraces on river valleys\"              \n [9] \"outwash terraces on till plains\"        \n[10] \"hills on terraces\"                      \n[11] \"escarpments, terraces\"                  \n[12] \"swales on outwash terraces, till plains\"\n[13] \"terraces on uplands\"                    \n```\n:::\n\n```{.r .cell-code}\n# drumlin or moraine related\nother %>% filter(str_detect(geomdesc, \"drumlin\")|\n                   str_detect(geomdesc, \"moraine\")) %>% pull(geomdesc) %>% unique()\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n [1] \"flats on moraines, rises on moraines\"               \n [2] \"rises on moraines\"                                  \n [3] \"depressions on moraines\"                            \n [4] \"hillslopes on moraines, rises on moraines\"          \n [5] \"moraines on till plains\"                            \n [6] \"moraines\"                                           \n [7] \"flats on moraines\"                                  \n [8] \"swales on moraines\"                                 \n [9] \"hillslopes on moraines\"                             \n[10] \"flats on moraines, swales on moraines\"              \n[11] \"hillslopes on glacial lakes on moraines\"            \n[12] \"depressions on interdrumlins\"                       \n[13] \"hillslopes on drumlins\"                             \n[14] \"glacial lakes on hillslopes on moraines\"            \n[15] \"rims on depressions on moraines, flats on moraines\" \n[16] \"rises on moraines, flats on moraines\"               \n[17] \"swales on moraines, flats on moraines\"              \n[18] \"drumlins\"                                           \n[19] \"flats, moraines\"                                    \n[20] \"hills on moraines\"                                  \n[21] \"beaches on moraines\"                                \n[22] \"shores on beaches on moraines\"                      \n[23] \"marshes on moraines\"                                \n[24] \"rises on ground moraines\"                           \n[25] \"ground moraines\"                                    \n[26] \"flats on ground moraines, swales on ground moraines\"\n[27] \"ground moraines on till plains\"                     \n```\n:::\n\n```{.r .cell-code}\n# hill related (some of these don't really make sense to me)\nother %>% filter(str_detect(geomdesc, \"hill\")) %>% pull(geomdesc) %>% unique()\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n [1] \"hillslopes on till plains, ridges on till plains\"\n [2] \"hillslopes on moraines, rises on moraines\"       \n [3] \"hillslopes on moraines\"                          \n [4] \"hillslopes on glacial lakes on moraines\"         \n [5] \"hillslopes on till plains\"                       \n [6] \"hillslopes on drumlins\"                          \n [7] \"glacial lakes on hillslopes on moraines\"         \n [8] \"hills on moraines\"                               \n [9] \"hills on till plains\"                            \n[10] \"terraces, hills\"                                 \n[11] \"hills, terraces\"                                 \n[12] \"escarpments on terraces, hills\"                  \n[13] \"hills\"                                           \n[14] \"hillslopes on uplands\"                           \n[15] \"hills on terraces\"                               \n[16] \"hills, valley sides\"                             \n[17] \"hills on outwash deltas\"                         \n[18] \"hillslopes on uplands, hillslopes on uplands\"    \n[19] \"hillslopes on interfluves on uplands\"            \n[20] \"swales on hillslopes on uplands\"                 \n```\n:::\n\n```{.r .cell-code}\n# note that 'other' now contains only 208 unique compnames\nlength(unique(other$compname))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 208\n```\n:::\n\n```{.r .cell-code}\nother %>% select(compname, taxsuborder) %>% \n  distinct() %>% \ndplyr::group_by(taxsuborder) %>% \n  dplyr::summarise(comps = str_c(compname, collapse = \", \")) %>% \n  gt()\n```\n\n::: {.cell-output-display}\n```{=html}\n<div id=\"nqbxcqmaaw\" style=\"overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>html {\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;\n}\n\n#nqbxcqmaaw .gt_table {\n  display: table;\n  border-collapse: collapse;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#nqbxcqmaaw .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#nqbxcqmaaw .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#nqbxcqmaaw .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 0;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#nqbxcqmaaw .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#nqbxcqmaaw .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#nqbxcqmaaw .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#nqbxcqmaaw .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#nqbxcqmaaw .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#nqbxcqmaaw .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#nqbxcqmaaw .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#nqbxcqmaaw .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#nqbxcqmaaw .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#nqbxcqmaaw .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#nqbxcqmaaw .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#nqbxcqmaaw .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#nqbxcqmaaw .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#nqbxcqmaaw .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#nqbxcqmaaw .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#nqbxcqmaaw .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#nqbxcqmaaw .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#nqbxcqmaaw .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#nqbxcqmaaw .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#nqbxcqmaaw .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#nqbxcqmaaw .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#nqbxcqmaaw .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#nqbxcqmaaw .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#nqbxcqmaaw .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#nqbxcqmaaw .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-left: 4px;\n  padding-right: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#nqbxcqmaaw .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#nqbxcqmaaw .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#nqbxcqmaaw .gt_left {\n  text-align: left;\n}\n\n#nqbxcqmaaw .gt_center {\n  text-align: center;\n}\n\n#nqbxcqmaaw .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#nqbxcqmaaw .gt_font_normal {\n  font-weight: normal;\n}\n\n#nqbxcqmaaw .gt_font_bold {\n  font-weight: bold;\n}\n\n#nqbxcqmaaw .gt_font_italic {\n  font-style: italic;\n}\n\n#nqbxcqmaaw .gt_super {\n  font-size: 65%;\n}\n\n#nqbxcqmaaw .gt_two_val_uncert {\n  display: inline-block;\n  line-height: 1em;\n  text-align: right;\n  font-size: 60%;\n  vertical-align: -0.25em;\n  margin-left: 0.1em;\n}\n\n#nqbxcqmaaw .gt_footnote_marks {\n  font-style: italic;\n  font-weight: normal;\n  font-size: 75%;\n  vertical-align: 0.4em;\n}\n\n#nqbxcqmaaw .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#nqbxcqmaaw .gt_slash_mark {\n  font-size: 0.7em;\n  line-height: 0.7em;\n  vertical-align: 0.15em;\n}\n\n#nqbxcqmaaw .gt_fraction_numerator {\n  font-size: 0.6em;\n  line-height: 0.6em;\n  vertical-align: 0.45em;\n}\n\n#nqbxcqmaaw .gt_fraction_denominator {\n  font-size: 0.6em;\n  line-height: 0.6em;\n  vertical-align: -0.05em;\n}\n</style>\n<table class=\"gt_table\">\n  \n  <thead class=\"gt_col_headings\">\n    <tr>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\">taxsuborder</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\">comps</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td class=\"gt_row gt_left\">Albolls</td>\n<td class=\"gt_row gt_left\">Barbert</td></tr>\n    <tr><td class=\"gt_row gt_left\">Aqualfs</td>\n<td class=\"gt_row gt_left\">Willosippi, Zwingle</td></tr>\n    <tr><td class=\"gt_row gt_left\">Aquents</td>\n<td class=\"gt_row gt_left\">Urness, Blue Earth, Tadkee, Aquents, Beaches, Beach</td></tr>\n    <tr><td class=\"gt_row gt_left\">Aquepts</td>\n<td class=\"gt_row gt_left\">Hamre, Haug, Twig, Giese</td></tr>\n    <tr><td class=\"gt_row gt_left\">Aquerts</td>\n<td class=\"gt_row gt_left\">Hegne</td></tr>\n    <tr><td class=\"gt_row gt_left\">Aquolls</td>\n<td class=\"gt_row gt_left\">Fram, Roliss, Borup, Grimstad, Lindaas, Dovray, Colvin, Quam, Winger, Bearden, Glencoe, Darfur, Parnell, Bigstone, Lura, Okoboji, Granby, Glyndon, Perella, Spicer, Southam, Fulda, Calcousta, Maxcreek, Garwin, Maxfield, Tilfer, Soils that have more clay, Romnell, Trosky, Knoke, Faxon, Joliet, Fieldon, McIntosh, Rushmore, Whitewood, Mound Creek, Mayer, Prinsburg, Chetomba, Biscay, Haverhill, Marcus</td></tr>\n    <tr><td class=\"gt_row gt_left\">Fluvents</td>\n<td class=\"gt_row gt_left\">Cashel, Arenzville, Dorchester</td></tr>\n    <tr><td class=\"gt_row gt_left\">Orthents</td>\n<td class=\"gt_row gt_left\">Udorthents, Bold</td></tr>\n    <tr><td class=\"gt_row gt_left\">Psamments</td>\n<td class=\"gt_row gt_left\">Mahtomedi, Boone, Chelsea</td></tr>\n    <tr><td class=\"gt_row gt_left\">Udalfs</td>\n<td class=\"gt_row gt_left\">Warba, Dalbo, Brainerd, Jewett, Dorerton, Blooming, Mt. Carroll, Winneshiek, Seaton, Hersey, Downs, Eleva, Oak Center, Meridian, Waucoma, Nasset, Waubeek, Massbach, Frankville, Gale, Dubuque, Fayette, Hixton, Medary, Festina, Plumcreek, Whalan, Renova, Newry, Backbone, Spinks, Churchtown, NewGlarus, Southridge, Palsgrove, Norden, Dunbarton, Donnan, Pepin, Nordness, Lamont, La Farge</td></tr>\n    <tr><td class=\"gt_row gt_left\">Udepts</td>\n<td class=\"gt_row gt_left\">Timula</td></tr>\n    <tr><td class=\"gt_row gt_left\">Uderts</td>\n<td class=\"gt_row gt_left\">Sinai, Nutley</td></tr>\n    <tr><td class=\"gt_row gt_left\">Udolls</td>\n<td class=\"gt_row gt_left\">Towner, Maddock, Lohnes, Bygland, Dickey, Tara, Langola, Kost, Copaston, Doran, Byrne, Yellowbank, Doland, Embden, Waubay, Poinsett, Swenoda, Brodale, Ripon, Sparta, Torning, Fordville, Fedji, Tomall, Highpoint Lake, Darnen, Bechyn, Crooksford, Louris, Port Byron, Rockton, Lindstrom, Tallula, Marlean, Klinger, Joy, Kennebec, Merton, Bellechester, Grogan, Wadena, Dickinson, Channahon, Tama, Atkinson, Wagen Prairie, Wangs, Hesch, Richwood, Moland, Schapville, Rasset, Brookings, Vienna, Lismore, Kranzburg, Singsaas, Oak Lake, Lake Benton, Round Lake, Ridgeport, Dodgeville, Etter, Lasa, Litchfield, Sac, Everly, Ransom, Athelwold, Judson, Overly, Germantown, Augusta Lake, Okabena, Ocheyedan, Pilot Grove, Sylvester, Emeline, Hoopeston, Lawler, Flagler, Keltner, Waukee, Wilmonton, Ocheda, Lakefield, Fostoria, Farrar, Edmund</td></tr>\n    <tr><td class=\"gt_row gt_left\">Ustolls</td>\n<td class=\"gt_row gt_left\">Ihlen, Alcester, Moody, Splitrock, Trent, Sogn, Bluemound</td></tr>\n    <tr><td class=\"gt_row gt_left\">NA</td>\n<td class=\"gt_row gt_left\">Rock outcrop</td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n```\n:::\n:::\n\n\n## Full dataset SPC workflow\n\n### Create SPC object\n\nHere I turn the entire `horiz` dataframe into an SPC object.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# sort so all horizons are in order for each cokey\nhz_sort <- horiz %>% \n  arrange(cokey, hzdept_r) \n\n# upgrade to SPC\ndepths(hz_sort) <-  cokey ~ hzdept_r + hzdepb_r\n\n# check it out \n# note only 10237 profiles, started with 10785 cokeys\n# figure out missing ones below\nhz_sort\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nSoilProfileCollection with 10237 profiles and 37552 horizons\nprofile ID: cokey  |  horizon ID: hzID \nDepth range: 28 - 208 cm\n\n----- Horizons (6 / 37552 rows  |  10 / 173 columns) -----\n# A tibble: 6 x 10\n     cokey hzID  hzdept_r hzdep~1 hzname desgn~2 desgn~3 desgn~4 desgn~5 hzdep~6\n     <dbl> <chr>    <dbl>   <dbl> <chr>    <dbl> <chr>   <chr>     <dbl>   <dbl>\n1 21694774 1            0      20 Ap          NA A       <NA>         NA       0\n2 21694774 2           20      56 Bw          NA B       <NA>         NA      13\n3 21694774 3           56     114 E           NA E       <NA>         NA      41\n4 21694774 4          114     116 Bt          NA B       <NA>         NA      61\n5 21694774 5          116     203 E and~      NA E and B <NA>         NA      63\n6 21694776 6            0      20 Ap          NA A       <NA>         NA       0\n# ... with abbreviated variable names 1: hzdepb_r, 2: desgndisc,\n#   3: desgnmaster, 4: desgnmasterprime, 5: desgnvert, 6: hzdept_l\n[... more horizons ...]\n\n----- Sites (6 / 10237 rows  |  1 / 1 columns) -----\n# A tibble: 6 x 1\n  cokey   \n  <chr>   \n1 21694774\n2 21694776\n3 21694781\n4 21694789\n5 21694790\n6 21694791\n[... more sites ...]\n\nSpatial Data:\n[EMPTY]\n```\n:::\n\n```{.r .cell-code}\n# specify horizon name col\nhzdesgnname(hz_sort) <- 'hzname'\n```\n:::\n\n\n### Custom slab function {#sec-custom-slab}\n\nI will use this function along with the `map` function from `{purrr}` to calculate weighted means of the soil properties on our list.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nslab_fun <- function(var, spc_obj){\n  \n  slab_formula <- as.formula(paste(\"cokey ~ \", var))\n  \n  slab_df <- slab(object = spc_obj, \n                fm = slab_formula,\n                slab.structure = c(0,20),\n                slab.fun = mean,\n                na.rm = TRUE) \n  \n  return(slab_df)\n  \n}\n```\n:::\n\n\n### Apply (map) slab function\n\nDebugging victory here!\nI was having trouble with my custom function (defined above) working with any of the variants of `purrr::map()` .\nFound the answer in the `map2()` documentation (but it seems to work here, even though I'm using just `map()` ).\nUnder the Details section: \"Note that arguments to be vectorised over come before `.f` , and arguments that are supplied to every call come after `.f`\"\n\nSo in my case, the same `spc` object is used for all of these function calls; I needed to put that argument after `.f` .\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# # dataframe for results to land in\nr <- data.frame(var_name = vars_of_interest)\n\n# map over my list of vars, using custom slab function\n# takes a minute or so\nrnest <- r %>% \n  dplyr::mutate(aggr_data = map(.x = var_name,\n                          .f = slab_fun, \n                          spc_obj = hz_sort))\n\n# result is a list col with soil prop data nested \nhead(rnest)\n```\n\n::: {.cell-output-display}\n`````{=html}\n<div data-pagedtable=\"false\">\n  <script data-pagedtable-source type=\"application/json\">\n{\"columns\":[{\"label\":[\"\"],\"name\":[\"_rn_\"],\"type\":[\"\"],\"align\":[\"left\"]},{\"label\":[\"var_name\"],\"name\":[1],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"aggr_data\"],\"name\":[2],\"type\":[\"list\"],\"align\":[\"right\"]}],\"data\":[{\"1\":\"claytotal_r\",\"2\":\"<df[,6] [10,237 × 6]>\",\"_rn_\":\"1\"},{\"1\":\"silttotal_r\",\"2\":\"<df[,6] [10,237 × 6]>\",\"_rn_\":\"2\"},{\"1\":\"sandtotal_r\",\"2\":\"<df[,6] [10,237 × 6]>\",\"_rn_\":\"3\"},{\"1\":\"claysizedcarb_r\",\"2\":\"<df[,6] [10,237 × 6]>\",\"_rn_\":\"4\"},{\"1\":\"om_r\",\"2\":\"<df[,6] [10,237 × 6]>\",\"_rn_\":\"5\"},{\"1\":\"cec7_r\",\"2\":\"<df[,6] [10,237 × 6]>\",\"_rn_\":\"6\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\n  </script>\n</div>\n`````\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# unnest, save long version b/c nice for \n# facetted plots\nrlong <- rnest %>% \n  unnest(cols = c(aggr_data)) %>% \n  select(-var_name)   # don't need, col also returned by slab\n\n  \n# save wider version b/c better for modeling\n# this matches the number of elements in our SPC (10237)\n# not sure why the difference between nrow of comps and n\n# elements in our SPC... look into this. \nrwide <- rlong %>% \n  pivot_wider(names_from = \"variable\",\n              values_from = c(\"value\", \"contributing_fraction\"),\n              names_glue = \"{variable}_{.value}\")\n```\n:::\n\n\n### Missing/Dropped Components? {#sec-missing}\n\nI started with 10785 that were identified in `04-subset-component-data.qmd`.\nHowever, when I promoted this list to an SPC object in `aqp` we got only 10237 .\nCheck out what's missing.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncomps_start <- comps$cokey\n\ncomps_end <- rwide$cokey\n\nmissing_cokeys <- setdiff(comps_start, comps_end)\n\nmissing_comps <- comps %>% \n  filter(cokey %in% missing_cokeys) %>% \n  select(compname,\n         compkind,\n         majcompflag,\n         taxclname,\n         taxorder,\n         taxsuborder,\n         taxgrtgroup,\n         taxsubgrp,\n         mukey)\n```\n:::\n\n\nHere's more info about the missing components, by component kind:\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](05-horiz-data_files/figure-html/info-missing1-1.png){width=672}\n:::\n:::\n\n\nCheck out component names, grouped by component kind.\n\n\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n```\n[[1]]\n```\n:::\n\n::: {.cell-output-display}\n![](05-horiz-data_files/figure-html/info-missing2-1.png){width=672}\n:::\n\n::: {.cell-output .cell-output-stdout}\n```\n\n[[2]]\n```\n:::\n\n::: {.cell-output-display}\n![](05-horiz-data_files/figure-html/info-missing2-2.png){width=672}\n:::\n\n::: {.cell-output .cell-output-stdout}\n```\n\n[[3]]\n```\n:::\n\n::: {.cell-output-display}\n![](05-horiz-data_files/figure-html/info-missing2-3.png){width=672}\n:::\n\n::: {.cell-output .cell-output-stdout}\n```\n\n[[4]]\n```\n:::\n\n::: {.cell-output-display}\n![](05-horiz-data_files/figure-html/info-missing2-4.png){width=672}\n:::\n:::\n\n\n## Save Data\n\nBased on the summaries of missing/dropped components above, I think this is all stuff we would have wanted to exclude anyway (and data availability is likely low...).\nSaving long and wide versions of the 20cm slab-aggregated dataset for further analysis.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndatestamp <- lubridate::today() %>% str_replace_all(\"-\", \"\")\n\nwrite_csv(rlong, glue(\"./data/long_slab_aggregated_soil_props_{datestamp}.csv\"))\n\nwrite_csv(rwide, glue(\"./data/wide_slab_aggregated_soil_props_{datestamp}.csv\"))\n```\n:::\n",
    "supporting": [
      "05-horiz-data_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<link href=\"site_libs/pagedtable-1.1/css/pagedtable.css\" rel=\"stylesheet\" />\r\n<script src=\"site_libs/pagedtable-1.1/js/pagedtable.js\"></script>\r\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}