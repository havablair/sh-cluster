{
  "hash": "b69e3f1e6777c423ed29aaf62bc84cfd",
  "result": {
    "markdown": "# Data Sources {#sec-data-source}\n\n\n\n\n\n\n\n## Define Area of Interest\n\n-   Union of MN county boundaries and MLRA boundaries\\\n-   An idea for subsetting later - bring in Cropland Data Layer. Exclude pixels with impervious \\>50%, or some other %?\n\n## Major Land Resource Areas\n\n1.  Access the [USDA's Geospatial Data Gateway](https://gdg.sc.egov.usda.gov/).\\\n2.  Click \"Order by State\" link, select Minnesota\\\n3.  Select Major Land Resource Areas map layers\n4.  Format: ESRI Shape (not sure about this, other options are ESRI File GeoDatabase, separate ESRI shapefiles, separate ESRI GeoDatabase Feature Classes)\n\n## Minnesota County Boundaries\n\nDownloaded the MDNR's version of county boundaries from MN Geospatial\n\n## Minnesota State Boundary\n\nMN State Boundary downloaded from US Census Cartographic Boundary Files\n\n<https://www.census.gov/geographies/mapping-files/time-series/geo/carto-boundary-file.html>\n\nFile is the States 2018 500K shapefile\n\n## 2020 National Cultivated Layer\n\n1.  Access the data on the [Cropland \"Research & Science\" page](https://www.nass.usda.gov/Research_and_Science/Cropland/Release/index.php)\\\n2.  Download zip file of 2020 National Cultivated Layer\n\nI think we want the \"Cultivated Layer\", which is based on most recent 5 years of data, updated annually.\nPixels are included in this layer if it was identified as cultivated in at least 2 of the last 5 years.\n\n## Soils Data\n\n### gSSURGO data\n\n1.  Navigate to the Geospatial Data Gateway's [\"Direct DAta/NAIP Download\"](https://gdg.sc.egov.usda.gov/GDGHome_DirectDownLoad.aspx) list\\\n2.  Click link for [Soils Geographic Databases](https://nrcs.app.box.com/v/soils)\n3.  October 2021 gSSURGO by State\\\n4.  Download ZIP file for MN\n\nCitation for gSSURGO data:\n\nSoil Survey Staff.\nGridded Soil Survey Geographic (gSSURGO) Database for Minnesota.\nUnited States Department of Agriculture, Natural Resources Conservation Service.\nAvailable online at <https://gdg.sc.egov.usda.gov/>.\nNovember, 22, 2021 (2021 official release).\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# inspect layers in .gdb\nsf::st_layers(\"./data/gSSURGO_MN/gSSURGO_MN.gdb\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nDriver: OpenFileGDB \nAvailable layers:\n           layer_name     geometry_type features fields\n1            chaashto                NA   223330      4\n2       chconsistence                NA     2794     10\n3       chdesgnsuffix                NA    62846      3\n4             chfrags                NA   321265     12\n5            chorizon                NA   130493    171\n6             chpores                NA       16      9\n7            chstruct                NA   110021      7\n8         chstructgrp                NA    95901      4\n9              chtext                NA        0      7\n10          chtexture                NA   318704      4\n11       chtexturegrp                NA   313739      6\n12       chtexturemod                NA    50000      3\n13          chunified                NA   240027      4\n14      cocanopycover                NA       50      6\n15          cocropyld                NA    34146     12\n16     codiagfeatures                NA    31760     12\n17         coecoclass                NA    52483      6\n18          coeplants                NA    25544      7\n19       coerosionacc                NA     5743      4\n20          coforprod                NA     2726     12\n21         coforprodo                NA        0     10\n22       cogeomordesc                NA    83667      8\n23   cohydriccriteria                NA    25091      3\n24           cointerp                NA  5698886     13\n25            comonth                NA   421728     17\n26          component                NA    42529    109\n27               copm                NA    49990      7\n28            copmgrp                NA    34883      4\n29       copwindbreak                NA   161238      8\n30     corestrictions                NA     4369     13\n31        cosoilmoist                NA   666791      9\n32         cosoiltemp                NA       96      9\n33        cosurffrags                NA    10955     15\n34      cosurfmorphgc                NA    17984      6\n35     cosurfmorphhpp                NA    28248      3\n36      cosurfmorphmr                NA      460      3\n37      cosurfmorphss                NA    42228      4\n38         cotaxfmmin                NA    33654      3\n39       cotaxmoistcl                NA    20332      3\n40             cotext                NA    42529      7\n41       cotreestomng                NA    32192      5\n42        cotxfmother                NA    31091      3\n43       distinterpmd                NA    11868      8\n44       distlegendmd                NA       92     11\n45             distmd                NA       92      4\n46           featdesc                NA      801      6\n47          laoverlap                NA      512      6\n48             legend                NA       92     14\n49         legendtext                NA        0      7\n50            mapunit                NA    10688     24\n51              month                NA       12      2\n52           muaggatt                NA    10688     40\n53         muaoverlap                NA    35224      4\n54          mucropyld                NA    23355     10\n55             mutext                NA    12230      7\n56          sacatalog                NA       92     11\n57           sainterp                NA    11868      9\n58       sdvalgorithm                NA        8      4\n59       sdvattribute                NA      211     53\n60          sdvfolder                NA       20      6\n61 sdvfolderattribute                NA      213      2\n62       mdstatdomdet                NA     6930      5\n63       mdstatdommas                NA      123      2\n64       mdstatidxdet                NA      172      4\n65       mdstatidxmas                NA      149      3\n66     mdstatrshipdet                NA       66      5\n67     mdstatrshipmas                NA       63      5\n68      mdstattabcols                NA      865     14\n69         mdstattabs                NA       75      5\n70           FEATLINE Multi Line String    60902      5\n71          FEATPOINT             Point   254435      4\n72             MULINE Multi Line String        0      5\n73            MUPOINT             Point        0      4\n74          SAPOLYGON     Multi Polygon       96      5\n75          MUPOLYGON     Multi Polygon  2123552      6\n76              Valu1                NA    10688     58\n```\n:::\n:::\n\n\n\n### Process for raster reclass (new MUKEYs) {#sec-reclass}\n\nI opened gSSURGO in ArcMap version XXX.\nI performed a [raster reclass](https://desktop.arcgis.com/en/arcmap/latest/tools/3d-analyst-toolbox/reclass-by-table.htm) by table.\nThe table I provided was a text file of our cross-walk between the original map unit keys and our new, shorter map unit keys that allowed us to reduce the file size by going down to 16bit pixel depth.\n\nUsing Customize menu \\> Extensions, turned on the 3D analyst tools and spatial analyst tools\n\nNow in the ArcToolbox, going to 3D analyst tools \\> Raster Reclass \\> Reclass by Table\n\nInput raster: MapunitRaster_10m_Clip1\\\nInput remap table: mukey_new_crosswalk.txt\\\nFrom value field: MUKEY\\\nTo value field: MUKEY\\\nOutput value fuield: MUKEY_new\\\nChange missing values to NoData: DATA?\n\nSUCCESS with raster reclass above.\nTo save, I used \"Export Raster Data\"\\\nDialog box shows that the uncompressed size is 5.42 GB (!!), and the pixel depth is 16bit.\nI am assigning the NoData value as 7999 (our max MU value is 7861)\n\nSaving to `C:\\Users\\blair304\\Desktop\\MapunitRaster_10m_Clip1`, name `Reclass_tif1.tif`, compression type NONE, compression quality set at default 75 (can't see a way to change it?)\n",
    "supporting": [
      "02-data_sources_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {
      "knitr": [
        "{\"type\":\"list\",\"attributes\":{},\"value\":[]}"
      ]
    },
    "preserve": null,
    "postProcess": false
  }
}